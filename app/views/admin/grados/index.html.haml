
.alert#message{role: :alert, style: 'position:absolute;left:200px;top:180px;padding:7px'} 
%nav
  .nav.nav-tabs
    = link_to 'Tesistas', "#tab1", "data-toggle": "tab", class: 'nav-item nav-link active show'
    = link_to 'Posibles Graduandos', "#tab2", "data-toggle": "tab", class: 'nav-item nav-link'
    = link_to 'Graduandos', "#tab3", "data-toggle": "tab", class: 'nav-item nav-link'
    = link_to 'Graduados', "#tab4", "data-toggle": "tab", class: 'nav-item nav-link'
      
.tab-content
  .tab-pane.active.show#tab1
    .border.mt-3.p-3
      = render partial: '/admin/grados/lista', locals: {registros: @tesistas, estado: 1, tipo: 'Tesistas'}
  .tab-pane#tab2
    .border.mt-3.p-3
      = render partial: '/admin/grados/lista', locals: {registros: @posibles_graduandos, estado: 2, tipo: 'Posibles Graduandos'}
  .tab-pane#tab3
    .border.mt-3.p-3
      = render partial: '/admin/grados/lista', locals: {registros: @graduandos, estado: 3, tipo: 'Graduandos'}
  .tab-pane#tab4
    .border.mt-3.p-3
      = render partial: '/admin/grados/lista', locals: {registros: @graduados, estado: 4, tipo: 'Graduados'}

:javascript


  
  function moveRow(url, estado, boton) {
    $.ajax({
      url: url,
      type: 'GET',
      dataType: 'json',
      data: {estado: estado},
      success: function (html) {
        if (url.includes("grado") || estado == 1 || (url.includes("inscripcionseccion") && estado == 0)) {
          //console.log(`Tr: ${html.tr}`)
          if (url.includes("inscripcionseccion") && estado == 1) estado = 2
          if (url.includes("inscripcionseccion") && estado == 0) estado = 1
          let trResponse = document.createElement('tr')
          trResponse.innerHTML = html.tr
          let tableRef = document.getElementById(`table${estado}`);
          tableRef.insertBefore(trResponse, tableRef.firstChild);
        }
        $('#message').html(``)
        $('#message').removeClass('alert-danger')
        $('#message').addClass('alert-success')

        $('#message').html(html.msg)
        boton.parent().parent()[0].remove();
      },
      error: function(html){
        $('#message').html(``)
        $('#message').removeClass('alert-success')
        $('#message').addClass('alert-danger')
        $('#message').html(`Error al intentar cambiar el estado. Por favor int√©ntelo de nuevo`)

      }

    })
    $('#message').fadeIn()
    $('#message').fadeOut(4000)


  }